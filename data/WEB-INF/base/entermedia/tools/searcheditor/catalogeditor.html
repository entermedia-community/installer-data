#set( $applicationid = $context.findValue("applicationid") )
#set( $searcherManager = $context.getPageValue("searcherManager") )
#set( $rootsearchpath = "/$applicationid/tools/searcheditor")

<h2>[[Catalogs To Search]]:</h2>


#if( $lasthits  )
	#set($catalogs = $lasthits.searchQuery.catalogs )
#else
	#set($catalogs = $query.catalogs )
	
#end
	<div class="emsearchcataloglist">
<a class="ajax" href="$home/${applicationid}/search/createsearch.html?addcatalogid=addall&oemaxlevel=1" targetdiv="emsearcharea" >add all</a> |
<a class="ajax" href="$home/${applicationid}/search/createsearch.html?removecatalogid=removeall&oemaxlevel=1" targetdiv="emsearcharea" >remove all</a>
		$pages.include("$rootsearchpath/cataloglist.html")
	</div>
	<div id="catalogselect" >
	$pages.include("$rootsearchpath/catalogselect.html")
</div>
<script type="text/javascript">

addCatalog = function (catalogid)
{
	jQuery('#emsearcharea').load('$home/${applicationid}/search/createsearch.html', { addcatalogid: catalogid, oemaxlevel: 1 });	
	return false;
}

removeCatalog = function (catalogid)
{
	jQuery('#emsearcharea').load('$home/${applicationid}/search/createsearch.html', { removecatalogid: catalogid, oemaxlevel: 1 });	
	return false;
}
</script>