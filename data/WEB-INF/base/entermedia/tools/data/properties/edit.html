<h2>$!property.name</h2>

<div id="editlayout">
#set( $origURL = $context.getRequestParameter("origURL" ) )		
		
<form id="dataeditor" name="dataeditor" method="post" action="$home$content.dataroot/properties/save.html" >
	<input name="save" type="hidden" value="true" />
	<input name="id" type="hidden" value="$!property.id" />
	<input name="catalogid" type="hidden" value="$searcher.catalogId" />
	<input name="searchtype" type="hidden" value="$searcher.getSearchType()" />
	<input name="origURL"  type="hidden" value="$origURL" />
	
	<table width="700">
	<tr> <td>ID:</td> <td><input name="newid" value="$property.id" /></td> </tr>
	<tr> <td>[[Label]]:</td> <td><input name="name" value="$!property.name" /></td> </tr>
	<tr> <td>[[External ID]]:</td> <td><input name="externalid" value="$!property.externalId" /></td> </tr>

	
	<tr> <td>Editable:</td> <td><input name="editable" type="checkbox" #if ($property.editable == true) checked #end value="true"/> </td> </tr>
	<tr> <td>[[Index]]:</td> <td><input name="index" type="checkbox" #if ($property.index == true) checked #end value="true"/> </td> </tr>
	<tr> <td>[[Stored]]:</td> <td><input name="stored" type="checkbox" #if ($property.stored == true) checked #end value="true"/> </td> </tr>
	<tr> <td>[[Is Keyword]]:</td> <td><input name="keyword" type="checkbox" #if ($property.keyword == true) checked #end value="true"/> </td> </tr>
	<tr> <td>[[In Filters]]:</td> <td><input name="filter" type="checkbox" #if ($property.filter == true) checked #end value="true"/> </td> </tr>
	
	
	<tr> <td>[[View Type]]:</td>
	<td>
	<select name="viewtype">
		<option value="" >Text</option>
		<option value="boolean" #if ($property.viewtype == "boolean") selected #end >[[Boolean]]</option>
		<option value="number" #if ($property.viewtype == "number") selected #end >[[Number]]</option>
		<option value="long" #if ($property.viewtype == "long") selected #end >Long</option>
		<option value="double" #if ($property.viewtype == "double") selected #end >Double</option>
		<option value="date" #if ($property.viewtype == "date") selected #end >[[Date]]</option>
		<option value="list" #if ($property.viewtype == "list") selected #end >[[List]]</option>
		<option value="permission" #if ($property.viewtype == "permission") selected #end >[[Permission]]</option>
		<option value="file" #if ($property.viewtype == "file") selected #end >[[File]]</option>
		<option value="image" #if ($property.viewtype == "image") selected #end >[[Image]]</option>
		<option value="multiselect" #if ($property.viewtype == "multiselect") selected #end >[[Multi-Select]]</option>
		<option value="textjoin" #if ($property.viewtype == "textjoin") selected #end >[[Text Join]]</option>
	</select>

		#if( $property.getViewType() && $property.getViewType() == "list")
			<div class="embutton">
				<a href="$home$content.dataroot/list/index.html?catalogid=$!detail.getListCatalogId()&searchtype=$detail.getListId()">Search Values</a>
			</div>
		#end	

	</td>
	</tr>

	<tr> <td>[[Data Type]]:</td>
	<td>
	<select name="datatype">
		<option value="" >Text</option>
		<option value="boolean" #if ($property.datatype == "boolean") selected #end >[[Boolean]]</option>
		<option value="number" #if ($property.datatype == "number") selected #end >[[Number]]</option>
		<option value="long" #if ($property.datatype == "long") selected #end >Long</option>
		<option value="double" #if ($property.datatype == "double") selected #end >Double</option>
		<option value="date" #if ($property.datatype == "date") selected #end >[[Date]]</option>
		<option value="list" #if ($property.datatype == "list") selected #end >[[List]]</option>
		<option value="file" #if ($property.datatype == "file") selected #end >[[File]]</option>
		<option value="image" #if ($property.datatype == "image") selected #end >[[Image]]</option>
	</select>
	</td>
	</tr>

	<tr> <td>[[List Id]]:</td> <td><input name="listid" value="$!property.listid"/> </td> </tr>
	<tr> <td>[[List Catalog Id]]:</td> <td><input name="listcatalogid" value="$!property.listcatalogid"/> </td> </tr>
	<tr> <td>[[List Sort Field]]:</td> <td><input name="sort" value="$!property.sort"/> </td> </tr>
	<tr> <td>[[List Query]]:</td> <td><input name="query" value="$!property.query"/> </td> </tr>
	<tr> <td>[[Foreign Key ID]]:</td> <td><input name="foreignkeyid" value="$!property.foreignkeyid"/> </td> </tr>

	<tr>
	<td>
	</td>
	<td>
	<div class="embutton">
<input type="submit" value="Save" />
	</div>
		<div id="messagearea">$!message
</div>
	
	</td>
	</tr>
		
	</table>


</form>

#if( $savedok && $origURL )
<div class="embutton">
	<a href="$origURL">[[Go Back]]</a>	
</div>	
#end

<div style="padding-left: 100px;" class="embutton">
<a href="remove.html?id=$!property.id&catalogid=$catalogid&searchtype=$searcher.getSearchType()">[[Delete Field]]</a>
</div>
<br>
<br><br>

</div>
