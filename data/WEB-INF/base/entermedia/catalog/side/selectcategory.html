<div id="showcatalogdata" class="sidecontent" >



<div class="SIDEBAR">[[Filter based on top level categories]]:</div>
 
	<form action="$home$cataloghome/side/selectcatalogfinish.html" name="selectcatalogform">
					#if($content.toplevelcategory ) #set( $topLevel =$catalogTree.getModel().getChildById("$content.toplevelcategory")) 
					#else #set( $topLevel = $catalogTree.getModel().getRoot() )
					#end
					#foreach( $rootCatalog in $topLevel.getChildren() )
						#if( $userfilter.hasExcludedCategory($rootCatalog.id))
						##No permission
						#else
					 #if( $userfilter.hasCategoryFilter("hidecategory",$rootCatalog.id) )
					 <input type="checkbox" name="categoryid" value="$rootCatalog.id" onClick="document.selectcatalogform.submit();" >$!rootCatalog.name</option>
					 #else
					 <input type="checkbox" name="categoryid" value="$rootCatalog.id" checked onClick="document.selectcatalogform.submit();" >$!rootCatalog.name</option>
					 #end 
					 <br>
					 #end
					#end
					
	<br>		    
		<input type="hidden" name="origURL" value="$context.getRequestParameter("origURL")" />
		<input type="hidden" name="save" value="true" />
</form>

</div>
<div class="borderTopRight SIDEBAR" align="center" >
	<a href="javascript:checkAll(document.selectcatalogform.categoryid)">[[Select All]]</a>
	<a href="javascript:uncheckAll(document.selectcatalogform.categoryid)">[[Select None]]</a>
</div>

<SCRIPT LANGUAGE="JavaScript">
<!-- 	
// by Nannette Thacker
// http://www.shiningstar.net
// This script checks and unchecks boxes on a form
// Checks and unchecks unlimited number in the group...
// Pass the Checkbox group name...
// call buttons as so:
// <input type=button name="CheckAll"   value="Check All"
	//onClick="checkAll(document.myform.list)">
// <input type=button name="UnCheckAll" value="Uncheck All"
	//onClick="uncheckAll(document.myform.list)">
// -->

<!-- Begin
function checkAll(field)
{
for (i = 0; i < field.length; i++)
	field[i].checked = true ;
document.selectcatalogform.submit();
}

function uncheckAll(field)
{
for (i = 0; i < field.length; i++)
	field[i].checked = false ;
document.selectcatalogform.submit();
}
//  End -->
</script>